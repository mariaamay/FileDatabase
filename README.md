# Система управления базой данных на основе CSV файлов  
## Описание проекта
Данный проект представляет собой графический интерфейс, написанный на Java, для работы с базой данных, хранящейся в формате CSV. Основная цель проекта — обеспечить интуитивно понятные функции для создания, управления и обработки базы данных, включая добавление, удаление, редактирование, поиск записей и другие функции, которые будут описаны ниже.  
### Выбранная предметная область   
Система предназначена для упрощенной работы с базой данных с одним ключевым полем, которая может использоваться для хранения структурированной информации. Например, в моем проекте реализована база данных продуктового магазина: хранятся названия продуктов, их цены, количество, информация о наличии товаров и сроках годности. Поле ID является ключевым (уникальный идентификатор каждого товара)  
## Содержание  
- ```private void createDatabase()``` - создание БД
- ```private void openDatabase(String dbDirectoryPath)``` - открытие БД
- ```private void deleteDatabase()``` - удаление БД
- ```private void clearDatabase()``` - очистка БД
- ```private void saveDatabase(String targetDirectoryPath)``` - сохранение БД
- ```private void addRecord()``` - добавление новой записи в БД (с проверкой уникальности по ключевым полям)
- ```private void deleteRecordById()``` - удаление записи из БД по значению ключевого поля (ID)
- ```private void deleteRecordByField()``` - удаление записи из БД по значению неключевого поля 
- ```private void searchById()``` - поиск по БД по значению ключевого поля (ID)
- ```private void searchByField()``` - поиск по БД по значению неключевого поля
- ```private void editRecord()``` - редактирование записи БД
- ```private void createBackup()``` - создание backup-файла БД
- ```private void loadBackup()``` - восстановление БД из backup-файла
- ```private void importToExcel()``` - импорт БД в файл формата .xlsx 
## Анализ сложности реализованных алгоритмов
Операция | Сложность | Принцип работы
--- | --- | ---
**Добавление записи** | *О(1) для HashMap* | добавление ID и отступа в байтах в CSV-файле до добавленной строки в HashMap (бегаем по файлику с помощью FilePointer)
**Удаление записи по ID** | *O(1) для HashMap* | Заменяем отступ на отрицательный в HashMap, при этом реальный CSV-файл заменяется только когда пользователь сохраняет его
**Удаление записи по неключевому полю** | *О(n)* | линейный поиск по выбранному пользователем столбцу,, затем удаление совпадающих значений, т.к. могут быть дубликаты, значит в любом случае нужно проверять каждую запись
**Поиск записи по ID** | *О(1) для HashMap* | заглядываем в HashMap, проверяем не была ли удалена запись
**Поиск записи по неключевому полю** | *О(n)* | линейный поиск по выбранному пользователем столбцу, т.к. могут быть дубликаты, значит в любом случае нужно проверять каждую запись
**Редактирование записи** | *О(1)* | используем поиск в HashMap по ID, достаем отступ в байтах, передвигаем FilePointer, заменяем старое значение записи на новое  


Отображение таблицы на экране осуществляется с помощью функции private void ```loadDataFromCsvFile()```, которая проверяет текущее состояниеи CSV-файла, поскольку каждую запись нужно добавить в таблицу, то она проходится по всему файлу, работает линейно. Чтобы не отображались удаленные ячейки после удалений и изменения, внесенные пользователем, функция проверяет отрицательность значения отступа в HashMap.

